{% extends 'dashboard.html' %}
{% block style %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

{% endblock %}

{% block content %}


<section class="vh-100" style="background-color: #eee;">
    <div class="container">

        <form action="image-form/" enctype="multipart/form-data" method="post">
            {% csrf_token %}
            {{form.as_p}}

            <input type="text" name="caption" id="" required>
            <input type="file" name="image" required>
            <button type="submit">Upload</button>
        </form>
        <h3>{{message}}</h3>

        {% if  obj %}
        <h3>Succesfully uploaded : {{caption}}</h3>
        <img src="{{ obj.image.url}}" alt="image" class="img-thumbnail" height="70%" width="70%" >
        <h3>{{media.image}}</h3>
        {% endif %}
        <hr>


        {% for x in img %}
        {% if forloop.first %}
        <div class="row ">
            {% endif %}
            <div class="col-lg-4 col-md-4 col-12">
                <div class="text-center mt-2">

                    <img src="{{x.image.url}}" height="70%" width="70%" class="img-thumbnail" alt="...">


                    <h2 class="text-center">{{x.caption}}</h2>
                </div>
            </div>
            {% if forloop.counter|divisibleby:3 %}
        </div>
        <div class=row>{% endif %}

            {% if forloop.last %}
        </div>
        {% endif %}
        {% endfor %}
    </div>
</section>

    {% endblock %}


{% block script %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous">

{% endblock %}




